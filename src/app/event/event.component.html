<div class="event" *ngIf="event; else noEvent">

  <img [src]="event.image" alt="Seeing this? Server returned a bogus response." />
  
  <h2>{{event.name}}</h2>
  
  <p>{{event.description}}</p>
  
  <div *ngIf="event.more; else noImages" class="images">
    <div *ngIf="event.more.images">
      <div *ngFor="let img of event.more.images">
        <div class="wrap">
          <img [src]="img.src" alt="Seeing this? Server returned a bogus response." />
        </div>
      </div>
    </div>
  </div>
  <ng-template #noImages>No Images Found</ng-template>
  
  <details>
    <summary>Event Information</summary>
    <div>
      <p>Location: {{event.location.city}}, {{event.location.state}}</p>
      <div *ngIf="event.more">
        <div *ngIf="event.more.date">
          <p>Date: {{event.more.date | date:'MM/dd/y'}}</p>
        </div>
        <div *ngIf="event.more.comments" class="comments">
          <p>Comments:</p>
          <ul>
            <li *ngFor="let comment of event.more.comments.slice(0,10)">
              Comment: {{comment.from}} says {{ comment.text | slice:0:157 }}...
            </li> 
          </ul>
        </div>
      </div>
    </div>  
  </details>
  
  <p>
    <mat-slide-toggle [checked]="event.rsvp" (click)="toggleStatus(event)">
      Going
    </mat-slide-toggle>
  </p>
    
  <p>
    <a href="mailto:?subject=Check this out!&body={{message}}">Share Event</a>
  </p>
  
</div>
<ng-template #noEvent>
  <p>Could not load event.</p>
</ng-template>